<UserControl
	x:Class="Citation.View.Page.SoftwareSettingPage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:Citation.View.Page"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:sys="clr-namespace:System;assembly=mscorlib"
	d:DesignHeight="450"
	d:DesignWidth="800"
	mc:Ignorable="d">

	<UserControl.Resources>
		<Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
			<Setter Property="FontSize" Value="16" />
			<Setter Property="FontWeight" Value="Bold" />
			<Setter Property="Margin" Value="0,15,0,10" />
			<Setter Property="Foreground" Value="#333333" />
		</Style>

		<Style x:Key="CardStyle" TargetType="Border">
			<Setter Property="Background" Value="White" />
			<Setter Property="CornerRadius" Value="8" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="BorderBrush" Value="#E0E0E0" />
			<Setter Property="Padding" Value="15" />
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect
						BlurRadius="10"
						Direction="270"
						Opacity="0.1"
						ShadowDepth="2" />
				</Setter.Value>
			</Setter>
		</Style>
		<Style x:Key="SaveButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="#1A5E20" />
			<Setter Property="Foreground" Value="White" />
			<Setter Property="Padding" Value="8,4" />
			<Setter Property="FontWeight" Value="SemiBold" />
			<Setter Property="FontSize" Value="15" />
			<Setter Property="Margin" Value="0,20,0,0" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="HorizontalAlignment" Value="Right" />
			<Setter Property="Width" Value="120" />
		</Style>
	</UserControl.Resources>

	<ScrollViewer VerticalScrollBarVisibility="Auto">
		<StackPanel Margin="20">
			<TextBlock
				FontSize="22"
				FontWeight="Bold"
				Foreground="#1A5E20">
				<Run Text="软件 " />
				<Run FontWeight="SemiBold" Text="设置页" />
			</TextBlock>

			<Border Margin="0,15,0,0" Style="{StaticResource CardStyle}">
				<StackPanel>
					<TextBlock Style="{StaticResource SectionHeaderStyle}" Text="数据库设置" />

					<Grid Margin="0,5">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

						<TextBlock
							Grid.Column="0"
							Margin="0,0,10,0"
							VerticalAlignment="Center"
							Text="数据库密码：" />

						<TextBox
							x:Name="DbPasswordBox"
							Grid.Column="1"
							Height="35"
							Text="{Binding Config.DbPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
					</Grid>

					<TextBlock
						Margin="0,15,0,0"
						Foreground="#555555"
						Text="请设置数据库的访问密码。" />
				</StackPanel>
			</Border>

			<Border Margin="0,20,0,0" Style="{StaticResource CardStyle}">
				<StackPanel>
					<TextBlock Style="{StaticResource SectionHeaderStyle}" Text="安全设置" />

					<Grid Margin="0,5">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

						<TextBlock
							Grid.Column="0"
							Margin="0,0,10,0"
							VerticalAlignment="Center"
							Text="启用安全防护：" />

						<CheckBox
							Grid.Column="1"
							Height="25"
							VerticalAlignment="Center"
							IsChecked="{Binding Config.EnableSecurity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
					</Grid>

					<Grid Margin="0,15,0,0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

						<TextBlock
							Grid.Column="0"
							Margin="0,0,10,0"
							VerticalAlignment="Center"
							Text="安全防护算法：" />

						<ComboBox
							Grid.Column="1"
							Height="35"
							SelectedIndex="0"
							SelectedValue="{Binding Config.SecurityVersion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
							SelectedValuePath="Content">
							<ComboBoxItem Content="AntiJump" />
							<ComboBoxItem Content="CryptoDB" />
							<ComboBoxItem Content="v3（待开发）" />
						</ComboBox>
					</Grid>

					<TextBlock
						Margin="0,15,0,0"
						Foreground="#555555"
						Text="可以启用安全防护并选择具体的防护版本。" />
				</StackPanel>
			</Border>

			<Border Margin="0,20,0,0" Style="{StaticResource CardStyle}">
				<StackPanel>
					<TextBlock Style="{StaticResource SectionHeaderStyle}" Text="其他设置" />

					<TextBlock
						FontStyle="Italic"
						Foreground="#777777"
						Text="更多软件设置将在后续版本中提供..." />
				</StackPanel>
			</Border>

			<Button
				x:Name="SaveButton"
				Click="SaveButton_Click"
				Content="保存设置"
				Style="{StaticResource SaveButtonStyle}" />
		</StackPanel>
	</ScrollViewer>
</UserControl>