<UserControl
	x:Class="Citation.View.Page.AddNotePage"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:Citation.View.Page"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
	d:DesignHeight="450"
	d:DesignWidth="800"
	mc:Ignorable="d">

	<UserControl.Resources>
		<Style x:Key="FormatButtonStyle" TargetType="Button">
			<Setter Property="Width" Value="30" />
			<Setter Property="Height" Value="30" />
			<Setter Property="Margin" Value="2" />
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}" CornerRadius="4">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#E6F3FF" />
				</Trigger>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#CCE6FF" />
				</Trigger>
			</Style.Triggers>
		</Style>

		<Style x:Key="ActionButtonStyle" TargetType="Button">
			<Setter Property="Width" Value="100" />
			<Setter Property="Height" Value="35" />
			<Setter Property="Margin" Value="10,0,0,0" />
			<Setter Property="Background" Value="#1E90FF" />
			<Setter Property="Foreground" Value="White" />
			<Setter Property="FontWeight" Value="SemiBold" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}" CornerRadius="4">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
						</Border>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#1C86EE" />
				</Trigger>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#1874CD" />
				</Trigger>
			</Style.Triggers>
		</Style>
	</UserControl.Resources>

	<Grid Background="#FAFAFA">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<Popup
			x:Name="ColorPopup"
			AllowsTransparency="True"
			Placement="Bottom"
			PlacementTarget="{Binding ElementName=ColorButton}"
			PopupAnimation="Slide"
			StaysOpen="False"
			VerticalOffset="5">
			<Border
				Padding="5"
				Background="White"
				BorderBrush="#CCCCCC"
				BorderThickness="1"
				CornerRadius="4">
				<xctk:ColorPicker
					x:Name="XceedColorPicker"
					Width="200"
					Height="200"
					SelectedColorChanged="XceedColorPicker_SelectedColorChanged" />
			</Border>
		</Popup>

		<Border
			Grid.Row="0"
			Padding="15"
			Background="White"
			BorderBrush="#E0E0E0"
			BorderThickness="0,0,0,1">
			<StackPanel Orientation="Horizontal">
				<TextBlock
					Margin="0,0,8,0"
					VerticalAlignment="Center"
					FontSize="15"
					Foreground="#333333"
					Text="名称：" />
				<TextBox
					x:Name="NoteTitleBox"
					Width="260"
					Height="26"
					Padding="4"
					Background="#F2F7FF"
					BorderBrush="#E0E0E0"
					BorderThickness="1"
					FontSize="15"
					Foreground="#2368C4" />
				<TextBlock
					Margin="20,0,0,0"
					VerticalAlignment="Center"
					FontSize="20"
					FontWeight="SemiBold"
					Foreground="#333333"
					Text="编辑便签" />
			</StackPanel>
		</Border>

		<Grid Grid.Row="1">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
			</Grid.RowDefinitions>

			<ToolBarTray
				Grid.Row="0"
				Margin="10,10,10,5"
				Background="#F5F5F5">
				<ToolBar
					Background="Transparent"
					Band="0"
					BandIndex="0"
					BorderThickness="0">
					<Button
						Command="EditingCommands.ToggleBold"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="加粗">
						<TextBlock FontWeight="Bold" Text="B" />
					</Button>
					<Button
						Command="EditingCommands.ToggleItalic"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="斜体">
						<TextBlock FontStyle="Italic" Text="I" />
					</Button>
					<Button
						Command="EditingCommands.ToggleUnderline"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="下划线">
						<TextBlock Text="U" TextDecorations="Underline" />
					</Button>
					<Separator />
					<Button
						Command="EditingCommands.AlignLeft"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="左对齐">
						<Image
							Width="16"
							Height="16"
							Source="pack://application:,,,/Citation;component/Images/align-left.png" />
					</Button>
					<Button
						Command="EditingCommands.AlignCenter"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="居中">
						<Image
							Width="16"
							Height="16"
							Source="pack://application:,,,/Citation;component/Images/align-center.png" />
					</Button>
					<Button
						Command="EditingCommands.AlignRight"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="右对齐">
						<Image
							Width="16"
							Height="16"
							Source="pack://application:,,,/Citation;component/Images/align-right.png" />
					</Button>
					<Separator />
					<ComboBox
						x:Name="FontFamilyComboBox"
						Width="100"
						Margin="5,0"
						SelectionChanged="FontFamilyComboBox_SelectionChanged">
						<ComboBoxItem Content="Arial" FontFamily="Arial" />
						<ComboBoxItem Content="Calibri" FontFamily="Calibri" />
						<ComboBoxItem Content="Consolas" FontFamily="Consolas" />
						<ComboBoxItem Content="Times New Roman" FontFamily="Times New Roman" />
						<ComboBoxItem Content="宋体" FontFamily="SimSun" />
						<ComboBoxItem Content="黑体" FontFamily="SimHei" />
						<ComboBoxItem Content="楷体" FontFamily="KaiTi" />
						<ComboBoxItem Content="微软雅黑" FontFamily="Microsoft YaHei" />
					</ComboBox>
					<ComboBox
						x:Name="FontSizeComboBox"
						Width="50"
						Margin="5,0"
						SelectionChanged="FontSizeComboBox_SelectionChanged">
						<ComboBoxItem Content="8" />
						<ComboBoxItem Content="9" />
						<ComboBoxItem Content="10" />
						<ComboBoxItem Content="11" />
						<ComboBoxItem Content="12" />
						<ComboBoxItem Content="14" />
						<ComboBoxItem Content="16" />
						<ComboBoxItem Content="18" />
						<ComboBoxItem Content="20" />
						<ComboBoxItem Content="24" />
					</ComboBox>
					<Button
						x:Name="ColorButton"
						Click="ColorButton_Click"
						IsEnabled="False"
						Style="{StaticResource FormatButtonStyle}"
						ToolTip="颜色">
						<TextBlock Foreground="Blue" Text="A" />
					</Button>
				</ToolBar>
			</ToolBarTray>

			<Border
				Grid.Row="1"
				Margin="10,5,10,10"
				BorderBrush="#CCCCCC"
				BorderThickness="1"
				CornerRadius="4">
				<RichTextBox
					x:Name="NoteEditor"
					Padding="10"
					BorderThickness="0"
					HorizontalScrollBarVisibility="Auto"
					VerticalScrollBarVisibility="Auto" />
			</Border>
		</Grid>

		<Border
			Grid.Row="2"
			Padding="15"
			Background="White"
			BorderBrush="#E0E0E0"
			BorderThickness="0,1,0,0">
			<StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
				<Button
					Click="SaveButton_Click"
					Content="保存"
					Style="{StaticResource ActionButtonStyle}" />
				<Button
					Background="#F5F5F5"
					Click="CancelButton_Click"
					Content="取消"
					Foreground="#666666"
					Style="{StaticResource ActionButtonStyle}" />
			</StackPanel>
		</Border>
	</Grid>
</UserControl>