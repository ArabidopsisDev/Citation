<Window
	x:Class="Citation.View.Statement.LicenseWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:Citation.View.Statement"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	Title="软件许可协议"
	Width="900"
	Height="600"
	Background="#F5F7F9"
	ResizeMode="NoResize"
	WindowStartupLocation="CenterScreen"
	mc:Ignorable="d">

	<Window.Resources>
		<DropShadowEffect
			x:Key="CardShadow"
			BlurRadius="15"
			Opacity="0.15"
			ShadowDepth="0"
			Color="#20000000" />

		<Style x:Key="ModernButton" TargetType="Button">
			<Setter Property="Background" Value="#4A90E2" />
			<Setter Property="Foreground" Value="White" />
			<Setter Property="BorderThickness" Value="0" />
			<Setter Property="Padding" Value="16,8" />
			<Setter Property="FontWeight" Value="SemiBold" />
			<Setter Property="Cursor" Value="Hand" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border
							x:Name="border"
							Background="{TemplateBinding Background}"
							CornerRadius="4"
							SnapsToDevicePixels="True">
							<ContentPresenter
								x:Name="contentPresenter"
								Margin="{TemplateBinding Padding}"
								HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
								VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
								Content="{TemplateBinding Content}"
								ContentStringFormat="{TemplateBinding ContentStringFormat}"
								ContentTemplate="{TemplateBinding ContentTemplate}"
								Focusable="False"
								RecognizesAccessKey="True"
								SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="#3A7BC8" />
							</Trigger>
							<Trigger Property="IsPressed" Value="True">
								<Setter Property="Background" Value="#2F6BB6" />
							</Trigger>
							<Trigger Property="IsEnabled" Value="False">
								<Setter Property="Background" Value="#B5C7DB" />
								<Setter Property="Foreground" Value="#F0F0F0" />
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<Grid Margin="15">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<Border
			Grid.Row="0"
			Margin="0,0,0,10"
			Padding="20,15"
			Background="White"
			CornerRadius="4"
			Effect="{StaticResource CardShadow}">
			<StackPanel>
				<TextBlock
					FontSize="20"
					FontWeight="SemiBold"
					Foreground="#333333"
					Text="开源许可协议" />
				<TextBlock
					Margin="0,8,0,0"
					FontSize="14"
					Foreground="#666666"
					Text="请仔细阅读以下许可协议内容。要继续使用本软件，您需要接受此协议的所有条款。"
					TextWrapping="Wrap" />
			</StackPanel>
		</Border>

		<Border
			Grid.Row="1"
			Margin="0,0,0,10"
			Background="White"
			CornerRadius="4"
			Effect="{StaticResource CardShadow}">
			<RichTextBox
				x:Name="LicenseTextBox"
				Padding="15"
				BorderThickness="0"
				IsReadOnly="True"
				VerticalScrollBarVisibility="Auto">
				<RichTextBox.Resources>
					<Style TargetType="{x:Type Paragraph}">
						<Setter Property="Margin" Value="0,0,0,8" />
					</Style>
				</RichTextBox.Resources>
			</RichTextBox>
		</Border>

		<Border
			Grid.Row="2"
			Padding="20,15"
			Background="White"
			CornerRadius="4"
			Effect="{StaticResource CardShadow}">
			<StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
				<Button
					x:Name="RejectButton"
					Margin="0,0,10,0"
					Background="#F0F0F0"
					Click="RejectButton_Click"
					Content="拒绝"
					Foreground="#666666"
					Style="{StaticResource ModernButton}" />
				<Button
					x:Name="AcceptButton"
					Click="AcceptButton_Click"
					Content="同意"
					Style="{StaticResource ModernButton}" />
			</StackPanel>
		</Border>
	</Grid>
</Window>