<Window
	x:Class="Citation.View.ProjectEditWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:Citation.Model"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	Title="项目信息编辑"
	Width="600"
	Height="450"
	WindowStartupLocation="CenterScreen"
	mc:Ignorable="d">

	<Window.Resources>
		<Style TargetType="TextBox">
			<Setter Property="Margin" Value="5" />
			<Setter Property="Padding" Value="3" />
		</Style>

		<Style TargetType="Label">
			<Setter Property="Margin" Value="5,5,5,0" />
			<Setter Property="FontWeight" Value="DemiBold" />
		</Style>

		<Style TargetType="Button">
			<Setter Property="Margin" Value="10" />
			<Setter Property="Padding" Value="8,4" />
			<Setter Property="MinWidth" Value="80" />
		</Style>
	</Window.Resources>

	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<GroupBox
			Grid.Row="0"
			Margin="0,0,0,10"
			Header="基本信息">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition Width="*" />
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>

				<Label
					Grid.Row="0"
					Grid.Column="0"
					Content="项目名称:" />
				<TextBox
					Grid.Row="0"
					Grid.Column="1"
					FontFamily="Calibri"
					Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />

				<Label
					Grid.Row="1"
					Grid.Column="0"
					Content="项目路径:" />
				<Grid Grid.Row="1" Grid.Column="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>
					<TextBox
						Grid.Column="0"
						FontFamily="Calibri"
						Text="{Binding Path}" />
					<Button
						Grid.Column="1"
						Margin="5,5,0,5"
						Padding="5,2"
						Click="SaveFile_Click"
						Content="浏览..." />
				</Grid>

				<Label
					Grid.Row="2"
					Grid.Column="0"
					Content="唯一标识:" />
				<TextBox
					Grid.Row="2"
					Grid.Column="1"
					Background="#FFF0F0F0"
					FontFamily="Calibri"
					IsEnabled="False"
					Text="{Binding Guid}" />
			</Grid>
		</GroupBox>

		<GroupBox
			Grid.Row="1"
			Margin="0,0,0,10"
			Header="作者列表">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>

				<StackPanel
					Grid.Row="0"
					HorizontalAlignment="Right"
					Orientation="Horizontal">
					<TextBox
						x:Name="NewAuthorTextBox"
						Width="200"
						Margin="5"
						FontFamily="Calibri" />
					<Button
						Margin="5"
						Click="AddAuthor_Click"
						Content="添加" />
				</StackPanel>

				<ListBox
					Grid.Row="1"
					Margin="5"
					FontFamily="Calibri"
					FontSize="15"
					ItemsSource="{Binding Authors}">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal">
								<TextBlock
									Margin="0,0,10,0"
									VerticalAlignment="Center"
									FontSize="10"
									Text="{Binding}" />
								<Button
									HorizontalAlignment="Right"
									Click="RemoveAuthor_Click"
									Content="删除"
									FontSize="10"
									Tag="{Binding}" />
							</StackPanel>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</GroupBox>

		<StackPanel
			Grid.Row="4"
			HorizontalAlignment="Right"
			Orientation="Horizontal">
			<Button
				Margin="10,0,0,0"
				Click="Submit_Click"
				Content="保存" />
		</StackPanel>
	</Grid>
</Window>