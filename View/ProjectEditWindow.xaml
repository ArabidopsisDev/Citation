<Window x:Class="Citation.View.ProjectEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Citation.Model"
        mc:Ignorable="d"
        Title="项目信息编辑" Height="450" Width="600"
        WindowStartupLocation="CenterScreen">

	<Window.Resources>
		<Style TargetType="TextBox">
			<Setter Property="Margin" Value="5"/>
			<Setter Property="Padding" Value="3"/>
		</Style>

		<Style TargetType="Label">
			<Setter Property="Margin" Value="5,5,5,0"/>
			<Setter Property="FontWeight" Value="DemiBold"/>
		</Style>

		<Style TargetType="Button">
			<Setter Property="Margin" Value="10"/>
			<Setter Property="Padding" Value="8,4"/>
			<Setter Property="MinWidth" Value="80"/>
		</Style>
	</Window.Resources>

	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<GroupBox Grid.Row="0" Header="基本信息" Margin="0,0,0,10">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<Label Grid.Row="0" Grid.Column="0" Content="项目名称:"/>
				<TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"/>

				<Label Grid.Row="1" Grid.Column="0" Content="项目路径:"/>
				<Grid Grid.Row="1" Grid.Column="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="Auto"/>
					</Grid.ColumnDefinitions>
					<TextBox Grid.Column="0" Text="{Binding Path}"/>
					<Button Grid.Column="1" Content="浏览..." Margin="5,5,0,5" Padding="5,2" Click="SaveFile_Click"/>
				</Grid>

				<Label Grid.Row="2" Grid.Column="0" Content="唯一标识:"/>
				<TextBox Grid.Row="2" Grid.Column="1" Text="{Binding Guid}" IsEnabled="False" Background="#FFF0F0F0"/>
			</Grid>
		</GroupBox>

		<GroupBox Grid.Row="1" Header="作者列表" Margin="0,0,0,10">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right">
					<TextBox x:Name="NewAuthorTextBox" Width="200" Margin="5"/>
					<Button Content="添加" Margin="5" Click="AddAuthor_Click"/>
				</StackPanel>

				<ListBox Grid.Row="1"  ItemsSource="{Binding Authors}" FontSize="15" Margin="5">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="{Binding}"  VerticalAlignment="Center" Margin="0,0,10,0" FontSize="10"/>
								<Button Content="删除" Tag="{Binding}" 
									HorizontalAlignment="Right" 
									Click="RemoveAuthor_Click" FontSize="10"/>
							</StackPanel>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>
		</GroupBox>

		<StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
			<Button Content="保存" Click="Submit_Click" Margin="10,0,0,0"/>
		</StackPanel>
	</Grid>
</Window>